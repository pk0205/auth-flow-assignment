(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(19),c=n.n(r),s=n(7),o=n(18),i=n(6),j=n(93),l=n(36),u=n(99),d=n(98),b=n(13),O=n.n(b),p=n(23),h=n(17),x=n(26),f=n(55),m=n(56),g=n(30),v=n.n(g),y={userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},S="USER_REGISTER_REQUEST",I="USER_LOGIN_REQUEST",w="USER_REGISTER_SUCCESS",E="USER_LOGIN_SUCCESS",C="USER_REGISTER_FAIL",L="USER_LOGIN_FAIL",k="USER_LOGOUT",N=function(e,t){return function(){var n=Object(p.a)(O.a.mark((function n(a){var r,c,s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:I}),r={headers:{"Content-Type":"application/json"}},n.next=5,v.a.post("/api/login",{email:e,password:t},r);case 5:c=n.sent,s=c.data,a({type:E,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:L,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},R=function(e,t,n){return function(){var a=Object(p.a)(O.a.mark((function a(r){var c,s,o;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:S}),c={headers:{"Content-Type":"application/json"}},a.next=5,v.a.post("/api/register",{name:e,email:t,password:n},c);case 5:s=a.sent,o=s.data,r({type:w,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r({type:C,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},G=[f.a],U=Object(x.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:case I:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case w:case E:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,userInfo:t.payload});case C:case L:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:t.payload});case k:return Object(h.a)(Object(h.a)({},e),{},{userInfo:{}});default:return e}}),y,Object(m.composeWithDevTools)(x.applyMiddleware.apply(void 0,G))),_=n(2),T=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userInfo}));return Object(_.jsx)("header",{children:Object(_.jsx)(u.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(_.jsxs)(j.a,{children:[Object(_.jsx)(l.LinkContainer,{to:"/",children:Object(_.jsx)(u.a.Brand,{children:"LOGO"})}),Object(_.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(_.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(_.jsx)(d.a,{className:"ml-auto",children:t?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(d.a.Link,{children:[Object(_.jsx)("i",{className:"fas fa-user px-1"}),t.name]}),Object(_.jsxs)(d.a.Link,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:k}),document.location.href="/login"}))},children:[Object(_.jsx)("i",{className:"fas fa-sign-out-alt px-1"}),"Logout"]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.LinkContainer,{to:"/login",children:Object(_.jsxs)(d.a.Link,{children:[Object(_.jsx)("i",{className:"fas fa-sign-in-alt px-1"})," Sign In"]})}),Object(_.jsx)(l.LinkContainer,{to:"/register",children:Object(_.jsxs)(d.a.Link,{children:[Object(_.jsx)("i",{className:"fas fa-user-plus"})," Sign Up"]})})]})})})]})})})},P=n(94),F=n(59),A=function(){return Object(_.jsx)("footer",{children:Object(_.jsx)(j.a,{children:Object(_.jsx)(P.a,{children:Object(_.jsx)(F.a,{className:"text-center py-3",children:"Copyright \xa9 Prashant Kumar"})})})})},J=n(16),q=n(97),B=n(96),D=n(100),Q=function(e){var t=e.variant,n=e.children;return Object(_.jsx)(D.a,{variant:t,children:n})};Q.defaultProps={variant:"danger"};var W=Q,H=n(95),K=function(){return Object(_.jsx)(H.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(_.jsx)("span",{className:"sr-only",children:"Loading..."})})},M=function(e){var t=e.children;return Object(_.jsx)(j.a,{children:Object(_.jsx)(P.a,{className:"justify-content-md-center",children:Object(_.jsx)(F.a,{xs:12,md:6,children:t})})})},z=function(e){var t=e.history,n=Object(a.useState)(""),r=Object(J.a)(n,2),c=r[0],i=r[1],j=Object(a.useState)(""),l=Object(J.a)(j,2),u=l[0],d=l[1],b=Object(s.b)(),h=Object(s.c)((function(e){return e.userInfo})),x=Object(s.c)((function(e){return e.loading})),f=Object(s.c)((function(e){return e.error}));Object(a.useEffect)((function(){h&&t.push("/dashboard")}),[t,h]);var m=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b(N(c,u));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(M,{children:[Object(_.jsx)("h1",{children:"Sign In"}),f&&Object(_.jsx)(W,{children:f}),x&&Object(_.jsx)(K,{}),Object(_.jsxs)(q.a,{onSubmit:m,children:[Object(_.jsxs)(q.a.Group,{controlId:"email",children:[Object(_.jsx)(q.a.Label,{children:"Email Address"}),Object(_.jsx)(q.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(_.jsxs)(q.a.Group,{controlId:"password",children:[Object(_.jsx)(q.a.Label,{children:"Password"}),Object(_.jsx)(q.a.Control,{type:"password",placeholder:"Enter password",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(_.jsx)(B.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(_.jsx)(P.a,{className:"py-3",children:Object(_.jsxs)(F.a,{children:["New Customer? ",Object(_.jsx)(o.Link,{to:"/register",children:"Register"})]})})]})})},V=function(e){var t=e.history,n=Object(a.useState)(""),r=Object(J.a)(n,2),c=r[0],i=r[1],j=Object(a.useState)(""),l=Object(J.a)(j,2),u=l[0],d=l[1],b=Object(a.useState)(""),h=Object(J.a)(b,2),x=h[0],f=h[1],m=Object(a.useState)(""),g=Object(J.a)(m,2),v=g[0],y=g[1],S=Object(a.useState)(null),I=Object(J.a)(S,2),w=I[0],E=I[1],C=Object(s.b)(),L=Object(s.c)((function(e){return e.userInfo})),k=Object(s.c)((function(e){return e.loading})),N=Object(s.c)((function(e){return e.error}));Object(a.useEffect)((function(){L&&t.push("/dashboard")}),[t,L]);var G=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),x!==v?E("Passwords do not match"):(E(""),C(R(c,u,x)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(M,{children:[Object(_.jsx)("h1",{children:"Sign Up"}),w&&Object(_.jsx)(W,{variant:"danger",children:w}),N&&Object(_.jsx)(W,{variant:"danger",children:N}),k&&Object(_.jsx)(K,{}),Object(_.jsxs)(q.a,{onSubmit:G,children:[Object(_.jsxs)(q.a.Group,{controlId:"name",children:[Object(_.jsx)(q.a.Label,{children:"Name"}),Object(_.jsx)(q.a.Control,{type:"name",required:!0,placeholder:"Enter name",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(_.jsxs)(q.a.Group,{controlId:"email",children:[Object(_.jsx)(q.a.Label,{children:"Email Address"}),Object(_.jsx)(q.a.Control,{type:"email",required:!0,placeholder:"Enter email",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(_.jsxs)(q.a.Group,{controlId:"password",children:[Object(_.jsx)(q.a.Label,{children:"Password"}),Object(_.jsx)(q.a.Control,{type:"password",required:!0,placeholder:"Enter password",value:x,minLength:"6",onChange:function(e){return f(e.target.value)}})]}),Object(_.jsxs)(q.a.Group,{controlId:"confirmPassword",children:[Object(_.jsx)(q.a.Label,{children:"Confirm Password"}),Object(_.jsx)(q.a.Control,{type:"password",required:!0,placeholder:"Confirm password",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(_.jsx)(B.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(_.jsx)(P.a,{className:"py-3",children:Object(_.jsxs)(F.a,{children:["Have an Account? ",Object(_.jsx)(o.Link,{to:"/login",children:"Login"})]})})]})})},X=function(e){var t=e.history,n=Object(s.c)((function(e){return e.userInfo}));return Object(a.useEffect)((function(){n||t.push("/login")}),[t,n]),Object(_.jsxs)("h1",{className:"container mt-5",children:["Welcome ",n&&n.name]})},Y=function(){return Object(_.jsxs)(o.BrowserRouter,{children:[Object(_.jsx)(T,{}),Object(_.jsx)("main",{className:"py-3",children:Object(_.jsxs)(j.a,{children:[Object(_.jsx)(i.d,{exact:!0,path:"/login",component:z}),Object(_.jsx)(i.d,{exact:!0,path:"/register",component:V}),Object(_.jsx)(i.d,{exact:!0,path:"/dashboard",component:X}),Object(_.jsx)(i.d,{exact:!0,path:"/",component:X})]})}),Object(_.jsx)(A,{})]})};c.a.render(Object(_.jsx)(s.a,{store:U,children:Object(_.jsx)(Y,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.96d6e70a.chunk.js.map