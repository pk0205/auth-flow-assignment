(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(19),c=n.n(r),s=n(7),o=n(18),i=n(6),j=n(93),l=n(36),u=n(99),d=n(98),b=n(13),O=n.n(b),p=n(23),h=n(17),x=n(26),f=n(55),m=n(56),g=n(30),S=n.n(g),v={userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},E=function(e,t){return function(){var n=Object(p.a)(O.a.mark((function n(a){var r,c,s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"USER_LOGIN_REQUEST"}),r={headers:{"Content-Type":"application/json"}},n.next=5,S.a.post("/api/login",{email:e,password:t},r);case 5:c=n.sent,s=c.data,a({type:"USER_LOGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:"USER_LOGIN_FAIL",payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t,n){return function(){var a=Object(p.a)(O.a.mark((function a(r){var c,s,o;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"USER_REGISTER_REQUEST"}),c={headers:{"Content-Type":"application/json"}},a.next=5,S.a.post("/api/register",{name:e,email:t,password:n},c);case 5:s=a.sent,o=s.data,r({type:"USER_REGISTER_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r({type:"USER_REGISTER_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},I=[f.a],R=Object(x.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":case"USER_LOGIN_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"USER_REGISTER_SUCCESS":case"USER_LOGIN_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{loading:!1,userInfo:t.payload});case"USER_REGISTER_FAIL":case"USER_LOGIN_FAIL":return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:t.payload});case"USER_LOGOUT":return Object(h.a)(Object(h.a)({},e),{},{userInfo:{}});default:return e}}),v,Object(m.composeWithDevTools)(x.applyMiddleware.apply(void 0,I))),L=n(2),C=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userInfo}));return Object(L.jsx)("header",{children:Object(L.jsx)(u.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)(l.LinkContainer,{to:"/",children:Object(L.jsx)(u.a.Brand,{children:"LOGO"})}),Object(L.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(L.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(L.jsx)(d.a,{className:"ml-auto",children:t?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(d.a.Link,{children:[Object(L.jsx)("i",{className:"fas fa-user px-1"}),t.name]}),Object(L.jsxs)(d.a.Link,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:"USER_LOGOUT"}),document.location.href="/login"}))},children:[Object(L.jsx)("i",{className:"fas fa-sign-out-alt px-1"}),"Logout"]})]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(l.LinkContainer,{to:"/login",children:Object(L.jsxs)(d.a.Link,{children:[Object(L.jsx)("i",{className:"fas fa-sign-in-alt px-1"})," Sign In"]})}),Object(L.jsx)(l.LinkContainer,{to:"/register",children:Object(L.jsxs)(d.a.Link,{children:[Object(L.jsx)("i",{className:"fas fa-user-plus"})," Sign Up"]})})]})})})]})})})},w=n(94),U=n(59),_=function(){return Object(L.jsx)("footer",{children:Object(L.jsx)(j.a,{children:Object(L.jsx)(w.a,{children:Object(L.jsx)(U.a,{className:"text-center py-3",children:"Copyright \xa9 Prashant Kumar"})})})})},N=n(16),k=n(97),G=n(96),T=n(100),F=function(e){var t=e.variant,n=e.children;return Object(L.jsx)(T.a,{variant:t,children:n})};F.defaultProps={variant:"danger"};var A=F,P=n(95),J=function(){return Object(L.jsx)(P.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(L.jsx)("span",{className:"sr-only",children:"Loading..."})})},q=function(e){var t=e.children;return Object(L.jsx)(j.a,{children:Object(L.jsx)(w.a,{className:"justify-content-md-center",children:Object(L.jsx)(U.a,{xs:12,md:6,children:t})})})},Q=function(e){var t=e.history,n=Object(a.useState)(""),r=Object(N.a)(n,2),c=r[0],i=r[1],j=Object(a.useState)(""),l=Object(N.a)(j,2),u=l[0],d=l[1],b=Object(s.b)(),h=Object(s.c)((function(e){return e.userInfo})),x=Object(s.c)((function(e){return e.loading})),f=Object(s.c)((function(e){return e.error}));Object(a.useEffect)((function(){h&&t.push("/dashboard")}),[t,h]);var m=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b(E(c,u));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(q,{children:[Object(L.jsx)("h1",{children:"Sign In"}),f&&Object(L.jsx)(A,{children:f}),x&&Object(L.jsx)(J,{}),Object(L.jsxs)(k.a,{onSubmit:m,children:[Object(L.jsxs)(k.a.Group,{controlId:"email",children:[Object(L.jsx)(k.a.Label,{children:"Email Address"}),Object(L.jsx)(k.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(L.jsxs)(k.a.Group,{controlId:"password",children:[Object(L.jsx)(k.a.Label,{children:"Password"}),Object(L.jsx)(k.a.Control,{type:"password",placeholder:"Enter password",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(L.jsx)(G.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(L.jsx)(w.a,{className:"py-3",children:Object(L.jsxs)(U.a,{children:["New Customer? ",Object(L.jsx)(o.Link,{to:"/register",children:"Register"})]})})]})})},B=function(e){var t=e.history,n=Object(a.useState)(""),r=Object(N.a)(n,2),c=r[0],i=r[1],j=Object(a.useState)(""),l=Object(N.a)(j,2),u=l[0],d=l[1],b=Object(a.useState)(""),h=Object(N.a)(b,2),x=h[0],f=h[1],m=Object(a.useState)(""),g=Object(N.a)(m,2),S=g[0],v=g[1],E=Object(a.useState)(null),I=Object(N.a)(E,2),R=I[0],C=I[1],_=Object(s.b)(),T=Object(s.c)((function(e){return e.userInfo})),F=Object(s.c)((function(e){return e.loading})),P=Object(s.c)((function(e){return e.error}));Object(a.useEffect)((function(){T&&t.push("/dashboard")}),[t,T]);var Q=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),x!==S?C("Passwords do not match"):(C(""),_(y(c,u,x)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(q,{children:[Object(L.jsx)("h1",{children:"Sign Up"}),R&&Object(L.jsx)(A,{variant:"danger",children:R}),P&&Object(L.jsx)(A,{variant:"danger",children:P}),F&&Object(L.jsx)(J,{}),Object(L.jsxs)(k.a,{onSubmit:Q,children:[Object(L.jsxs)(k.a.Group,{controlId:"name",children:[Object(L.jsx)(k.a.Label,{children:"Name"}),Object(L.jsx)(k.a.Control,{type:"name",required:!0,placeholder:"Enter name",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(L.jsxs)(k.a.Group,{controlId:"email",children:[Object(L.jsx)(k.a.Label,{children:"Email Address"}),Object(L.jsx)(k.a.Control,{type:"email",required:!0,placeholder:"Enter email",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(L.jsxs)(k.a.Group,{controlId:"password",children:[Object(L.jsx)(k.a.Label,{children:"Password"}),Object(L.jsx)(k.a.Control,{type:"password",required:!0,placeholder:"Enter password",value:x,minLength:"6",onChange:function(e){return f(e.target.value)}})]}),Object(L.jsxs)(k.a.Group,{controlId:"confirmPassword",children:[Object(L.jsx)(k.a.Label,{children:"Confirm Password"}),Object(L.jsx)(k.a.Control,{type:"password",required:!0,placeholder:"Confirm password",value:S,onChange:function(e){return v(e.target.value)}})]}),Object(L.jsx)(G.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(L.jsx)(w.a,{className:"py-3",children:Object(L.jsxs)(U.a,{children:["Have an Account? ",Object(L.jsx)(o.Link,{to:"/login",children:"Login"})]})})]})})},D=function(e){var t=e.history,n=Object(s.c)((function(e){return e.userInfo}));return Object(a.useEffect)((function(){n||t.push("/login")}),[t,n]),Object(L.jsxs)("h1",{className:"container mt-5",children:["Welcome ",n&&n.name]})},W=function(){return Object(L.jsxs)(o.BrowserRouter,{children:[Object(L.jsx)(C,{}),Object(L.jsx)("main",{className:"py-3",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)(i.d,{exact:!0,path:"/login",component:Q}),Object(L.jsx)(i.d,{exact:!0,path:"/register",component:B}),Object(L.jsx)(i.d,{exact:!0,path:"/dashboard",component:D}),Object(L.jsx)(i.d,{exact:!0,path:"/",component:D})]})}),Object(L.jsx)(_,{})]})};c.a.render(Object(L.jsx)(s.a,{store:R,children:Object(L.jsx)(W,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.7c5bcf88.chunk.js.map